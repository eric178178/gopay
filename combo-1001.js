
/*
 * jQuery Form Plugin
 * version: 3.03 (08-MAR-2012)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(e){var c={};c.fileapi=e("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;e.fn.ajaxSubmit=function(g){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var f,t,i,k=this;if(typeof g=="function"){g={success:g}}f=this.attr("method");t=this.attr("action");i=(typeof t==="string")?e.trim(t):"";i=i||window.location.href||"";if(i){i=(i.match(/^([^#]+)/)||[])[1]}g=e.extend(true,{url:i,success:e.ajaxSettings.success,type:f||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},g);var o={};this.trigger("form-pre-serialize",[this,g,o]);if(o.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(g.beforeSerialize&&g.beforeSerialize(this,g)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var j=g.traditional;if(j===undefined){j=e.ajaxSettings.traditional}var w,x=this.formToArray(g.semantic);if(g.data){g.extraData=g.data;w=e.param(g.data,j)}if(g.beforeSubmit&&g.beforeSubmit(x,this,g)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[x,this,g,o]);if(o.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var s=e.param(x,j);if(w){s=(s?(s+"&"+w):w)}if(g.type.toUpperCase()=="GET"){g.url+=(g.url.indexOf("?")>=0?"&":"?")+s;g.data=null}else{g.data=s}var z=[];if(g.resetForm){z.push(function(){k.resetForm()})}if(g.clearForm){z.push(function(){k.clearForm(g.includeHidden)})}if(!g.dataType&&g.target){var h=g.success||function(){};z.push(function(A){var q=g.replaceTarget?"replaceWith":"html";e(g.target)[q](A).each(h,arguments)})}else{if(g.success){z.push(g.success)}}g.success=function(D,A,E){var C=g.context||g;for(var B=0,q=z.length;B<q;B++){z[B].apply(C,[D,A,E||k,k])}};var v=e("input:file:enabled[value]",this);var l=v.length>0;var u="multipart/form-data";var r=(k.attr("enctype")==u||k.attr("encoding")==u);var p=c.fileapi&&c.formdata;d("fileAPI :"+p);var m=(l||r)&&!p;if(g.iframe!==false&&(g.iframe||m)){if(g.closeKeepAlive){e.get(g.closeKeepAlive,function(){y(x)})}else{y(x)}}else{if((l||r)&&p){n(x)}else{e.ajax(g)}}this.trigger("form-submit-notify",[this,g]);return this;function n(A){var q=new FormData();for(var C=0;C<A.length;C++){q.append(A[C].name,A[C].value)}if(g.extraData){for(var B in g.extraData){if(g.extraData.hasOwnProperty(B)){q.append(B,g.extraData[B])}}}g.data=null;var E=e.extend(true,{},e.ajaxSettings,g,{contentType:false,processData:false,cache:false,type:"POST"});if(g.uploadProgress){E.xhr=function(){var F=jQuery.ajaxSettings.xhr();if(F.upload){F.upload.onprogress=function(H){var G=0;if(H.lengthComputable){G=parseInt((H.position/H.total)*100,10)}g.uploadProgress(H,H.position,H.total,G)}}return F}}E.data=null;var D=E.beforeSend;E.beforeSend=function(G,F){F.data=q;if(D){D.call(F,G,g)}};e.ajax(E)}function y(Z){var E=k[0],D,V,P,X,S,G,K,I,J,T,W,N;var H=!!e.fn.prop;if(Z){if(H){for(V=0;V<Z.length;V++){D=e(E[Z[V].name]);D.prop("disabled",false)}}else{for(V=0;V<Z.length;V++){D=e(E[Z[V].name]);D.removeAttr("disabled")}}}if(e(":input[name=submit],:input[id=submit]",E).length){alert('Error: Form elements must not have name or id of "submit".');return}P=e.extend(true,{},e.ajaxSettings,g);P.context=P.context||P;S="jqFormIO"+(new Date().getTime());if(P.iframeTarget){G=e(P.iframeTarget);T=G.attr("name");if(!T){G.attr("name",S)}else{S=T}}else{G=e('<iframe name="'+S+'" src="'+P.iframeSrc+'" />');G.css({position:"absolute",top:"-1000px",left:"-1000px"})}K=G[0];I={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ac){var ad=(ac==="timeout"?"timeout":"aborted");d("aborting upload... "+ad);this.aborted=1;G.attr("src",P.iframeSrc);I.error=ad;if(P.error){P.error.call(P.context,I,ad,ac)}if(X){e.event.trigger("ajaxError",[I,P,ad])}if(P.complete){P.complete.call(P.context,I,ad)}}};X=P.global;if(X&&0===e.active++){e.event.trigger("ajaxStart")}if(X){e.event.trigger("ajaxSend",[I,P])}if(P.beforeSend&&P.beforeSend.call(P.context,I,P)===false){if(P.global){e.active--}return}if(I.aborted){return}J=E.clk;if(J){T=J.name;if(T&&!J.disabled){P.extraData=P.extraData||{};P.extraData[T]=J.value;if(J.type=="image"){P.extraData[T+".x"]=E.clk_x;P.extraData[T+".y"]=E.clk_y}}}var O=1;var L=2;function M(ad){var ac=ad.contentWindow?ad.contentWindow.document:ad.contentDocument?ad.contentDocument:ad.document;return ac}var C=e("meta[name=csrf-token]").attr("content");var B=e("meta[name=csrf-param]").attr("content");if(B&&C){P.extraData=P.extraData||{};P.extraData[B]=C}function U(){var ae=k.attr("target"),ac=k.attr("action");E.setAttribute("target",S);if(!f){E.setAttribute("method","POST")}if(ac!=P.url){E.setAttribute("action",P.url)}if(!P.skipEncodingOverride&&(!f||/post/i.test(f))){k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(P.timeout){N=setTimeout(function(){W=true;R(O)},P.timeout)}function af(){try{var ah=M(K).readyState;d("state = "+ah);if(ah&&ah.toLowerCase()=="uninitialized"){setTimeout(af,50)}}catch(ai){d("Server abort: ",ai," (",ai.name,")");R(L);if(N){clearTimeout(N)}N=undefined}}var ad=[];try{if(P.extraData){for(var ag in P.extraData){if(P.extraData.hasOwnProperty(ag)){ad.push(e('<input type="hidden" name="'+ag+'">').attr("value",P.extraData[ag]).appendTo(E)[0])}}}if(!P.iframeTarget){G.appendTo("body");if(K.attachEvent){K.attachEvent("onload",R)}else{K.addEventListener("load",R,false)}}setTimeout(af,15);E.submit()}finally{E.setAttribute("action",ac);if(ae){E.setAttribute("target",ae)}else{k.removeAttr("target")}e(ad).remove()}}if(P.forceSync){U()}else{setTimeout(U,10)}var aa,ab,Y=50,F;function R(ah){if(I.aborted||F){return}try{ab=M(K)}catch(ak){d("cannot access response document: ",ak);ah=L}if(ah===O&&I){I.abort("timeout");return}else{if(ah==L&&I){I.abort("server abort");return}}if(!ab||ab.location.href==P.iframeSrc){if(!W){return}}if(K.detachEvent){K.detachEvent("onload",R)}else{K.removeEventListener("load",R,false)}var af="success",aj;try{if(W){throw"timeout"}var ae=P.dataType=="xml"||ab.XMLDocument||e.isXMLDoc(ab);d("isXml="+ae);if(!ae&&window.opera&&(ab.body===null||!ab.body.innerHTML)){if(--Y){d("requeing onLoad callback, DOM not available");setTimeout(R,250);return}}var al=ab.body?ab.body:ab.documentElement;I.responseText=al?al.innerHTML:null;I.responseXML=ab.XMLDocument?ab.XMLDocument:ab;if(ae){P.dataType="xml"}I.getResponseHeader=function(ao){var an={"content-type":P.dataType};return an[ao]};if(al){I.status=Number(al.getAttribute("status"))||I.status;I.statusText=al.getAttribute("statusText")||I.statusText}var ac=(P.dataType||"").toLowerCase();var ai=/(json|script|text)/.test(ac);if(ai||P.textarea){var ag=ab.getElementsByTagName("textarea")[0];if(ag){I.responseText=ag.value;I.status=Number(ag.getAttribute("status"))||I.status;I.statusText=ag.getAttribute("statusText")||I.statusText}else{if(ai){var ad=ab.getElementsByTagName("pre")[0];var am=ab.getElementsByTagName("body")[0];if(ad){I.responseText=ad.textContent?ad.textContent:ad.innerText}else{if(am){I.responseText=am.textContent?am.textContent:am.innerText}}}}}else{if(ac=="xml"&&!I.responseXML&&I.responseText){I.responseXML=Q(I.responseText)}}try{aa=q(I,ac,P)}catch(ah){af="parsererror";I.error=aj=(ah||af)}}catch(ah){d("error caught: ",ah);af="error";I.error=aj=(ah||af)}if(I.aborted){d("upload aborted");af=null}if(I.status){af=(I.status>=200&&I.status<300||I.status===304)?"success":"error"}if(af==="success"){if(P.success){P.success.call(P.context,aa,"success",I)}if(X){e.event.trigger("ajaxSuccess",[I,P])}}else{if(af){if(aj===undefined){aj=I.statusText}if(P.error){P.error.call(P.context,I,af,aj)}if(X){e.event.trigger("ajaxError",[I,P,aj])}}}if(X){e.event.trigger("ajaxComplete",[I,P])}if(X&&!--e.active){e.event.trigger("ajaxStop")}if(P.complete){P.complete.call(P.context,I,af)}F=true;if(P.timeout){clearTimeout(N)}setTimeout(function(){if(!P.iframeTarget){G.remove()}I.responseXML=null},100)}var Q=e.parseXML||function(ac,ad){if(window.ActiveXObject){ad=new ActiveXObject("Microsoft.XMLDOM");ad.async="false";ad.loadXML(ac)}else{ad=(new DOMParser()).parseFromString(ac,"text/xml")}return(ad&&ad.documentElement&&ad.documentElement.nodeName!="parsererror")?ad:null};var A=e.parseJSON||function(ac){return window["eval"]("("+ac+")")};var q=function(ah,af,ae){var ad=ah.getResponseHeader("content-type")||"",ac=af==="xml"||!af&&ad.indexOf("xml")>=0,ag=ac?ah.responseXML:ah.responseText;if(ac&&ag.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(ae&&ae.dataFilter){ag=ae.dataFilter(ag,af)}if(typeof ag==="string"){if(af==="json"||!af&&ad.indexOf("json")>=0){ag=A(ag)}else{if(af==="script"||!af&&ad.indexOf("javascript")>=0){e.globalEval(ag)}}}return ag}}};e.fn.ajaxForm=function(f){f=f||{};f.delegation=f.delegation&&e.isFunction(e.fn.on);if(!f.delegation&&this.length===0){var g={s:this.selector,c:this.context};if(!e.isReady&&g.s){d("DOM not ready, queuing ajaxForm");e(function(){e(g.s,g.c).ajaxForm(f)});return this}d("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(f.delegation){e(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,f,b).on("click.form-plugin",this.selector,f,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",f,b).bind("click.form-plugin",f,a)};function b(g){var f=g.data;if(!g.isDefaultPrevented()){g.preventDefault();e(this).ajaxSubmit(f)}}function a(j){var i=j.target;var g=e(i);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length===0){return}i=f[0]}var h=this;h.clk=i;if(i.type=="image"){if(j.offsetX!==undefined){h.clk_x=j.offsetX;h.clk_y=j.offsetY}else{if(typeof e.fn.offset=="function"){var k=g.offset();h.clk_x=j.pageX-k.left;h.clk_y=j.pageY-k.top}else{h.clk_x=j.pageX-i.offsetLeft;h.clk_y=j.pageY-i.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(u){var t=[];if(this.length===0){return t}var h=this[0];var m=u?h.getElementsByTagName("*"):h.elements;if(!m){return t}var p,o,l,w,k,r,g;for(p=0,r=m.length;p<r;p++){k=m[p];l=k.name;if(!l){continue}if(u&&h.clk&&k.type=="image"){if(!k.disabled&&h.clk==k){t.push({name:l,value:e(k).val(),type:k.type});t.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y})}continue}w=e.fieldValue(k,true);if(w&&w.constructor==Array){for(o=0,g=w.length;o<g;o++){t.push({name:l,value:w[o]})}}else{if(c.fileapi&&k.type=="file"&&!k.disabled){var f=k.files;for(o=0;o<f.length;o++){t.push({name:l,value:f[o],type:k.type})}}else{if(w!==null&&typeof w!="undefined"){t.push({name:l,value:w,type:k.type})}}}}if(!u&&h.clk){var q=e(h.clk),s=q[0];l=s.name;if(l&&!s.disabled&&s.type=="image"){t.push({name:l,value:q.val()});t.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y})}}return t};e.fn.formSerialize=function(f){return e.param(this.formToArray(f))};e.fn.fieldSerialize=function(g){var f=[];this.each(function(){var l=this.name;if(!l){return}var j=e.fieldValue(this,g);if(j&&j.constructor==Array){for(var k=0,h=j.length;k<h;k++){f.push({name:l,value:j[k]})}}else{if(j!==null&&typeof j!="undefined"){f.push({name:this.name,value:j})}}});return e.param(f)};e.fn.fieldValue=function(l){for(var k=[],h=0,f=this.length;h<f;h++){var j=this[h];var g=e.fieldValue(j,l);if(g===null||typeof g=="undefined"||(g.constructor==Array&&!g.length)){continue}if(g.constructor==Array){e.merge(k,g)}else{k.push(g)}}return k};e.fieldValue=function(f,m){var h=f.name,s=f.type,u=f.tagName.toLowerCase();if(m===undefined){m=true}if(m&&(!h||f.disabled||s=="reset"||s=="button"||(s=="checkbox"||s=="radio")&&!f.checked||(s=="submit"||s=="image")&&f.form&&f.form.clk!=f||u=="select"&&f.selectedIndex==-1)){return null}if(u=="select"){var o=f.selectedIndex;if(o<0){return null}var q=[],g=f.options;var k=(s=="select-one");var p=(k?o+1:g.length);for(var j=(k?o:0);j<p;j++){var l=g[j];if(l.selected){var r=l.value;if(!r){r=(l.attributes&&l.attributes.value&&!(l.attributes.value.specified))?l.text:l.value}if(k){return r}q.push(r)}}return q}return e(f).val()};e.fn.clearForm=function(f){return this.each(function(){e("input,select,textarea",this).clearFields(f)})};e.fn.clearFields=e.fn.clearInputs=function(f){var g=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,h=this.tagName.toLowerCase();if(g.test(i)||h=="textarea"||(f&&/hidden/.test(i))){this.value=""}else{if(i=="checkbox"||i=="radio"){this.checked=false}else{if(h=="select"){this.selectedIndex=-1}}}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};e.fn.enable=function(f){if(f===undefined){f=true}return this.each(function(){this.disabled=!f})};e.fn.selected=function(f){if(f===undefined){f=true}return this.each(function(){var g=this.type;if(g=="checkbox"||g=="radio"){this.checked=f}else{if(this.tagName.toLowerCase()=="option"){var h=e(this).parent("select");if(f&&h[0]&&h[0].type=="select-one"){h.find("option").selected(false)}this.selected=f}}})};e.fn.ajaxSubmit.debug=false;function d(){if(!e.fn.ajaxSubmit.debug){return}var f="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(f)}else{if(window.opera&&window.opera.postError){window.opera.postError(f)}}}})(jQuery);

var showNoteHandle;var isset_filter=false;var isset_mainlist=false;var is_alt=false;var set_checkbox=false;var now_iframe_height=0;var callBack=function(u){var d=u.msg;var b=u.refresh;var l=u.redirect;var r=u.redirectTop;var p=u.datas;var e=u.filterLoad;var o=u.closeiBox;var g=u.toast;var c=u.hideNote;var s=u.closeTop;var a=u.warning;var f=u.jsalert;var m=u.openredirect;var n=u.bankbox;var k=u.msgtime;var t=u.tipso;var h=u.loginmini;if(isset(h)){$.iBox.close();loginBox=false}if(isset(t)){$("#"+u.tipsoid).addClass("tipso");$().toastmessage("showNoticeToast",t,{stayTime:2000})}if(isset(g)){var q=2000;if(isset(k)){q=parseInt(k)}if(q<2000){q=2000}$.mask_close_all();$().toastmessage("showNoticeToast",g,{stayTime:q})}if(isset(a)){var q=2000;if(isset(k)){q=parseInt(k)}if(q<2000){q=2000}$.mask_close_all();$().toastmessage("showWarningToast",a,{stayTime:q})}if(isset(d)){$.mask_close_all();alertBox(d)}if(isset(f)){$.mask_close_all();alert(f)}if(isset(m)){if(top.window.BrowserAdaptor){top.window.BrowserAdaptor.openNativeBrowser(m)}else{top.window.open(m)}}if(isset(b)){document.location.reload()}if(isset(l)){document.location.href=l}if(isset(r)){top.document.location.href=r}if(isset(p)){$.mask_close_all();$("#grid_rows").html(p)}if(isset(e)){filterLoad();$.iBox.close()}if(isset(o)){$.iBox.close()}if(isset(c)){hideNote()}if(isset(s)){top.closeWin()}if(isset(n)){$.iBox.open("/admin/user/online",{title:"\u60a8\u6b63\u5728\u8fdb\u884c\u5728\u7ebf\u5145\u503c\u670d\u52a1",width:"600px",height:"115px",contentType:"ajax",showOk:true,okBtnName:"\u6211\u5df2\u652f\u4ed8\u6210\u529f",showCancel:false,onok:function(v){v.close();top.open_page("inmoney_list","\u6211\u7684\u5145\u503c\u8bb0\u5f55","/admin/user/inmoney_list");window.location.reload()}})}};var error=function(a){};function showNote(b,c){clearTimeout(showNoteHandle);var a=$(".__event_note");a.parent("div").css({"z-index":"100"});a.html(b).css({display:"block"}).animate({opacity:1},200);if(!isset(c)){showNoteHandle=setTimeout(hideNote,3000)}}function hideNote(){var a=$(".__event_note");a.parent("div").css({"z-index":"-1"});a.html("").animate({opacity:0},200,function(){a.hide()})}function alertBox(a){$.iBox.open(a,{okBtnName:"\u5173\u95ed"})}function freshPage(){document.location.reload()}function showLoad(){$().toastmessage("showNoticeToast","\u6570\u636e\u52a0\u8f7d\u4e2d\u3002\u3002\u3002")}function hideLoad(){}function pageReload(){window.location.reload()}function saveGrid(){if(!isset_mainlist){alertBox("\u5217\u8868\u533a\u672a\u8bbe\u7f6e\u63d0\u4ea4\u4e8b\u4ef6");return false}$("#mainForm").submit()}function event_submit_form(b){var a={obj:"#mainForm"};b=$.extend({},a,b);if(!isset_mainlist){alertBox(b.obj+"\u8868\u5355\u672a\u8bbe\u7f6eAJAX\u63d0\u4ea4\u4e8b\u4ef6");return false}$(b.obj).submit()}function event_validation(a){$(".__event_validation").Validform({tiptype:3})}function event_edit_grid(b){var a={container:"#grid_rows",element:"span",events:"click"};b=$.extend({},a,b);$(b.container).delegate(b.element,b.events,function(){if(!$(this).find("input").get(0)){var c=$(this).attr("data");if(isset(c)){c=str2obj(c);c.size=isset(c.size)?c.size:3;$(this).html('<input type="text" name="'+c.name+'" value="'+$(this).html()+'" size="'+c.size+'" />')}}})}function event_edit(a,b){if(!isset(a)){a=400}if(!isset(b)){b="100%"}$(".__event_edit").xheditor({height:a,width:b})}function displayChild(b,d,c){var a=$(b).attr("value");if(a==1){$(".datagrid tr[name='"+d+"']").css("display","");$(b).attr("value",2).attr("title","\u5173\u95ed").html("[- "+c+"]")}else{$(".datagrid tr[name*='"+d+"']").css("display","none");$(".datagrid tr[name*='"+d+"']").find(".__event_category_node").attr("value",1).attr("title","\u5c55\u5f00").html("[+]");$(b).attr("value",1).attr("title","\u5c55\u5f00").html("[+ "+c+"]")}}function event_ajaxFilter(b){$(".__event_filter_show").click(function(){$(".filterBox").fadeTo(250,1)});$(".__event_filter_submit").click(function(){filterLoad()});$(".__event_filter_close").click(function(){$(".filterBox").fadeOut(250)});$(".__event_filter_reset").click(function(){$("#filterForm").resetForm()});var a={url:"",type:"get",obj:"#filterForm",};b=$.extend(a,b);if(!b.url){return false}event_ajaxForm(b);isset_filter=true}function filterLoad(){if(!isset_filter){alert("\u7b5b\u9009\u5668\u914d\u7f6e\u4e0d\u6b63\u786e");return false}$.mask_fullscreen("\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...");$("#filterForm").submit();$(".filterBox").fadeOut(250)}function event_user_tree(){var a=null;$(".__event_user_tree").click(function(){}).hover(function(){clearTimeout(a);$(".__event_utree").fadeTo(250,1);$(".__event_user_tree").addClass("doBoxButtonLeave")},function(){a=setTimeout(function(){$(".__event_user_tree").removeClass("doBoxButtonLeave");$(".__event_utree").fadeOut(200,function(){$(".__event_utree")})},100)});$(".__event_utree").hover(function(){clearTimeout(a)},function(){a=setTimeout(function(){$(".__event_user_tree").removeClass("doBoxButtonLeave");$(".__event_utree").fadeOut(200,function(){$(".__event_utree")})},100)})}var G_select_rows=[];var G_select_id="";function event_rows_multiselect(b){var c={contain:".datagrid"};b=$.extend(c,b);var d=null;$(".__event_doboxbutton").click(function(){}).hover(function(){clearTimeout(d);$(".__event_dobox").fadeTo(250,1);$(".__event_doboxbutton").addClass("doBoxButtonLeave")},function(){d=setTimeout(function(){$(".__event_doboxbutton").removeClass("doBoxButtonLeave");$(".__event_dobox").fadeOut(200,function(){$(".__event_dobox")})},100)});$(".__event_dobox").hover(function(){clearTimeout(d)},function(){d=setTimeout(function(){$(".__event_doboxbutton").removeClass("doBoxButtonLeave");$(".__event_dobox").fadeOut(200,function(){$(".__event_dobox")})},100)});if(!$("#checkbox_select_all").get(0)&&$(".__event_rows_multiselect").get(0)){var a=$(b.contain).find("thead > tr th:first-child").get(0);$(a).css("text-align","center");$(a).append('<input id="checkbox_select_all" type="checkbox" onclick="selectChangeAll(this);" />');delete (a)}$("#grid_rows").delegate(".__event_rows_multiselect","change",function(){var e=in_array(G_select_rows,$(this).val());if($(this).prop("checked")){$(this).parents("tr").addClass("select_row");if(e===false){G_select_rows.push($(this).val())}}else{$(this).parents("tr").removeClass("select_row");if(e!==false){G_select_rows.splice(e,1)}}if(G_select_rows.length>0){$(".__event_doboxbutton").html("\u5df2\u9009\u4e2d("+G_select_rows.length+")\u9879");G_select_id=G_select_rows.join(",")}else{$(".__event_doboxbutton").html("\u5df2\u9009\u4e2d(0)\u9879");$("#checkbox_select_all").prop("checked",false);G_select_id=""}})}function cleanDoBox(){G_select_rows=[];G_select_id="";$(".__event_rows_multiselect").each(function(){$(this).parents("tr").removeClass("select_row");$(this).prop("checked",false)});$(".__event_doboxbutton").html("\u5df2\u9009\u4e2d(0)\u9879");$("#checkbox_select_all").prop("checked",false)}function closeDoBox(){$(".__event_rows_multiselect").each(function(){$(this).parents("tr").removeClass("select_row");$(this).prop("checked",false)})}function selectChangeAll(c){var a=G_select_rows.length;var b=false;if(a==0){b=true;$(c).prop("checked",true)}else{$(c).prop("checked",false)}G_select_rows=[];G_select_id="";$(".__event_rows_multiselect").each(function(){if(!b){$(".__event_doboxbutton").html("\u5df2\u9009\u4e2d(0)\u9879");$(this).parents("tr").removeClass("select_row");$(this).prop("checked",false)}else{$(this).parents("tr").addClass("select_row");G_select_rows.push($(this).val());$(this).prop("checked",true)}});if(G_select_rows.length>0){$(".__event_doboxbutton").html("\u5df2\u9009\u4e2d("+G_select_rows.length+")\u9879");G_select_id=G_select_rows.join(",")}}function ajaxSubmit(a){var b={type:null,url:null,data:null,func:null,dataType:"json"};b=$.extend({},b,a);ajaxDo(b.type,b.url,b.dataType,b.data,b.func)}function ajaxGet(a){var b={url:null,data:null,func:null};b=$.extend({},b,a);if(!b.url){alert("\u8bf7\u8bbe\u7f6e\u8bf7\u6c42\u5730\u5740\uff01")}ajaxDo("get",b.url,"json",b.data,b.func)}function ajaxPost(a){var b={url:null,data:null,func:null};b=$.extend({},b,a);if(!b.url){alert("\u8bf7\u8bbe\u7f6e\u8bf7\u6c42\u5730\u5740\uff01")}ajaxDo("post",b.url,"json",b.data,b.func)}function ajaxPut(a){var b={url:null,data:null,func:null};b=$.extend({},b,a);if(!b.url){alert("\u8bf7\u8bbe\u7f6e\u8bf7\u6c42\u5730\u5740\uff01")}ajaxDo("put",b.url,"json",b.data,b.func)}function ajaxDo(a,c,e,d,b){$.ajax({type:a,url:c,data:d,dataType:e,success:function(f){if(typeof(b)=="function"){b(f)}else{callBack(f)}},error:function(f,h,g){console.log(f)}})}function event_ajaxForm(b){var a={url:null,type:"post",obj:".__event_ajaxForm",dataType:"json",success:function(c){callBack(c)},error:function(c){error(c)}};a=$.extend({},a,b);if(a.url){$(a.obj).ajaxForm(a)}}function event_ajaxMainList(b){var a={url:"",obj:"#mainForm",type:"post",beforeSubmit:function(){$().toastmessage("showSuccessToast","\u4fdd\u5b58\u6570\u636e\u4e2d\u3002\u3002\u3002")}};b=$.extend(a,b);if(!b.url){alertBox("\u8bf7\u8bbe\u7f6e\u63d0\u4ea4\u5730\u5740\uff01");return false}if(!$("#mainForm").get(0)){alertBox("\u8bf7\u8bbe\u7f6e\u540d\u79f0\u4e3amainForm\u7684\u8868\u5355");return false}if(!$('input[name="_method"]').get(0)||!$('input[name="act"]').get(0)){alertBox("\u8bf7\u8bbe\u7f6e\u66f4\u65b0\u63a7\u4ef6");return false}event_ajaxForm(b);isset_mainlist=true}function event_ajaxTopBox(b){var a={url:"",obj:"#Form1",type:"post",beforeSubmit:function(){showNote("\u4fdd\u5b58\u6570\u636e\u4e2d...",true)}};b=$.extend(a,b);if(!b.url){return false}event_ajaxForm(b)}function event_ajaxForLink(b){var a={container:"#grid_rows",element:"a",events:"click"};b=$.extend({},a,b);$(b.container).delegate(b.element,b.events,function(){var g=$(this).attr("type");var f=$(this).attr("url");var c=$(this).attr("confirm");var e=$(this).attr("iBoxForm");var l=$(this).html();var k=function(){if(isset(g)&&g!="p"){var m={type:g,url:f};ajaxSubmit(m)}};if(isset(c)){$.iBox.open('\u60a8\u78ba\u5b9a\u8981\u6267\u884c <span class="red">'+l+"</span> \u55ce\uff1f",{areaHeight:top.middle_height,okBtnName:"\u78ba\u5b9a",cancelBtnName:"\u53d6\u6d88",showCancel:true,onok:function(m){$.mask_fullscreen("\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...");m.hideButton();k();m.close()}})}else{if(isset(e)){$.mask_fullscreen("\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...");var h=str2obj(e);var d={width:300,height:100,id:"Form1",title:"\u8a2d\u7f6e",type:"ajax",showOk:true,okBtnName:"\u63d0\u4ea4",cancelBtnName:"\u53d6\u6d88",showCancel:true};h=$.extend({},d,h);$.iBox.open(f,{title:h.title,width:h.width,height:h.height,contentType:h.type,showOk:h.showOk,okBtnName:h.okBtnName,cancelBtnName:h.cancelBtnName,showCancel:h.showCancel,onok:function(m){m.hideButton("dialogok");$("#"+h.id).submit();if($(".Validform_error").length==0){$.mask_fullscreen("\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...")}}})}else{k()}}})}function ajax_popup(b){$.mask_fullscreen("\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...");var a={width:300,height:100,id:"Form1",title:"\u8a2d\u7f6e",type:"ajax",showOk:true,okBtnName:"\u63d0\u4ea4",cancelBtnName:"\u53d6\u6d88",showCancel:true};b=$.extend({},a,b);$.iBox.open(b.url,{title:b.title,width:b.width,height:b.height,contentType:b.type,showOk:b.showOk,okBtnName:b.okBtnName,cancelBtnName:b.cancelBtnName,showCancel:b.showCancel,onok:function(c){c.hideButton("dialogok");$("#"+b.id).submit();if($(".Validform_error").length==0){$.mask_fullscreen("\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...");cleanDoBox()}}})}function event_ajaxSubmit(b){var a={container:"#grid_rows",element:"a",events:"click"};b=$.extend({},a,b);$(b.container).delegate(b.element,b.events,function(){var g=$(this).attr("type");var f=$(this).attr("url");var c=$(this).attr("confirm");var e=$(this).attr("iBoxForm");var l=$(this).html();var k=function(){if(isset(g)&&g!="p"){var m={type:g,url:f};showNote("\u64cd\u4f5c\u63d0\u4ea4\u4e2d...",true);ajaxSubmit(m)}};if(isset(c)){$.iBox.open('\u60a8\u78ba\u5b9a\u8981 <span class="red">'+l+"</span> \u55ce\uff1f",{okBtnName:"\u78ba\u5b9a",cancelBtnName:"\u53d6\u6d88",showCancel:true,onok:function(m){k();m.close()}})}else{if(isset(e)){var h=str2obj(e);var d={width:300,height:100,id:"Form1",title:"\u8a2d\u7f6e",type:"ajax"};h=$.extend({},d,h);$.iBox.open(f,{title:h.title,width:h.width,height:h.height,contentType:h.type,okBtnName:"\u63d0\u4ea4",cancelBtnName:"\u53d6\u6d88",showCancel:true,onok:function(m){$("#"+h.id).submit()}})}else{k()}}})}function event_pjax(b){var a={selector:"a[type=p]",container:"#grid_rows",show:"fade",cache:false,storage:false,titleSuffix:"",filter:function(){},callback:function(){var c=request("page");if(c){$("#hidepage").val(c)}else{$("#hidepage").val("")}}};a=$.extend(a,b);$.pjax(a)}function event_pageAjax(){if(!$("#hidepage").get(0)){$("#filterForm").append('<input type="hidden" name="page" id="hidepage" value="" />')}var a={container:"#grid_rows",element:"a[type=p]",events:"click"};$(a.container).delegate(a.element,"mouseover",function(){$(this).removeAttr("href")});$(a.container).delegate(a.element,a.events,function(){var b=$(this).html();if(b=="\u4e0a\u4e00\u9801"){b=$(this).attr("p")}else{if(b=="\u4e0b\u4e00\u9801"){b=$(this).attr("p")}}$("#hidepage").val(b);filterLoad()})}function event_multiSubmit(d){var b={title:"\u64cd\u4f5c",confirm:true,type:"",url:""};d=$.extend({},b,d);if(!d.url||!d.type){return false}var a=d.confirm;var e=d.title;delete d.confirm;delete d.title;var c=function(){showNote("\u64cd\u4f5c\u63d0\u4ea4\u4e2d...",true);ajaxSubmit(d)};if(a){$.iBox.open('\u60a8\u78ba\u5b9a\u8981 <span class="red">'+e+"</span> \u55ce\uff1f",{okBtnName:"\u78ba\u5b9a",cancelBtnName:"\u53d6\u6d88",showCancel:true,onok:function(f){c();f.close();cleanDoBox()}})}else{c();cleanDoBox()}}function event_usertree(a){var c=[];var b={element:"#utree_box",hidename:"hideuser",postform:"#filterForm",multi_type:false,select_limit:1,initially_select:false,assign_state:null,json_data:null,select_ids:null,url:null};a=$.extend({},b,a);if(!a.url){return false}if(!$("#"+a.hidename).get(0)){$(a.postform).append('<input type="hidden" name="'+a.hidename+'" id="'+a.hidename+'" value="'+(a.select_ids?a.select_ids.join(","):"")+'" />')}if(!$(".utree_show").get(0)){$(a.element).after('<span class="utree_show"></span>')}$(".utree_show").after('<div id="utree_div"></div>');var e={ajax:{url:a.url,data:function(f){return{uid:f.attr?f.attr("id"):0}}}};if(a.json_data){e.data=a.json_data;delete a.json_data}var d={select_limit:a.select_limit,select_multiple_modifier:"alt",selected_parent_close:"select_parent"};if(a.select_ids){d.initially_select=a.select_ids;c=a.select_ids;delete a.select_ids}if(a.assign_state){setTimeout(function(){a.assign_state=null},1000)}$("#utree_div").jstree({ui:d,json_data:e,plugins:["themes","json_data","ui"]}).bind("select_node.jstree",function(k,h){if(!a.assign_state){var l=h.rslt.obj[0]["id"];if(a.multi_type&&is_alt){var f=in_array(c,l);if(f===false){c.push(l)}}else{c=[];c.push(l)}$("#"+a.hidename).val(c.join(","));var g=h.rslt.obj[0]["innerHTML"];g=g.replace(/<[^>]+>/g,"").split("&nbsp;");for(_name in g){if(g[_name]){$('input[name="name"]').val(g[_name]);$('input[name="show"]').prop("checked",true);filterLoad();break}}}})}function event_urldecode(){$(".__event_urldecode").each(function(){alert($(this).html());$(this).html(decodeURIComponent($(this).html()))})}function event_check(){if(!set_checkbox){$(".__event_chked").delegate("label","click",function(){$(this).prev("input").get(0).click();set_checkbox=true})}$(".__event_chked label").css({cursor:"pointer","margin-right":"10px"})}function changeImg(){$("#discern_img").attr("src","/discern?"+Math.random());$("input[name=discern]").focus()}function randString(e){var c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var b="";for(var a=0;a<e;a++){var d=Math.ceil(Math.random()*34);b+=c[d]}return b}function isset(b){var a;if(b!=a){return true}return false}function in_array(a,c){var b;for(b=0;b<a.length;b++){if(a[b]==c){return b}}return false}function str2obj(str){return eval("("+str+")")}function request(c){var b=location.href;var d=b.substring(b.indexOf("?")+1,b.length).split("&");var a={};for(i=0;j=d[i];i++){a[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length)}var e=a[c.toLowerCase()];if(!isset(e)){return""}else{return e}}function searchKey(f){var d=f.keyCode?f.keyCode:(f.which?f.which:f.charCode);var l=$(f);var a=$("#schlist");var e=$(l).next(".selectid");if(a.length<1){$("body").append('<ul id="schlist" class="schlist"></ul>');a=$("#schlist");a.css({left:l.offset().left,top:l.offset().top+l.height()+10});l.blur(function(){setTimeout(function(){a.remove()},150)})}if(d==38){if(a.find("li.hov").length<1){a.find("li:last").addClass("hov")}else{var g=a.find("li.hov").removeClass("hov").prev();if(g.length>0){g.addClass("hov")}else{a.find("li:last").addClass("hov")}}l.val(a.find("li.hov").attr("name1"))}else{if(d==40){if(a.find("li.hov").length<1){a.find("li:first").addClass("hov")}else{var b=a.find("li.hov").removeClass("hov").next();if(b.length>0){b.addClass("hov")}else{a.find("li:first").addClass("hov")}}l.val(a.find("li.hov").attr("name1"))}else{if(d==13){a.remove()}else{var c=l.val();var h=0;if(c.length>0){clearTimeout(h);h=setTimeout(function(){$.getJSON(l.attr("url"),{key:c},function(o){listr="";var k=o.length;var n="";for(var m=0;m<k;m++){n=o[m].name;if(o[m].mark){n+="("+o[m].mark+")"}listr+="<li value='"+o[m].id+"' name1=\""+o[m].name+'">'+n+"</li>"}if(listr!=""){a.html(listr).show();a.find("li").click(function(){l.val($(this).attr("name1"));e.val($(this).attr("value"));a.remove()})}else{a.remove()}})},200)}else{a.remove()}}}}}function event_dateui(a){var b={dateFormat:"yy\u5e74mm\u6708dd\u65e5",autoSize:true};b=$.extend(b,a);$(".__event_dateui").datepicker(b);$(".__event_dateui").datepicker("option",$.datepicker.regional["zh-CN"])}function show_playbill(a){$(".js_hiddentr").each(function(){if($(this).attr("val")!=a){$(this).attr("state",0).hide()}$(this).find("input[type=checkbox]").prop("checked",false)});$(".js_hiddenrow").each(function(){if($(this).attr("val")!=a){$(this).fadeTo(300,0.2)}});playlist_select_rows=[];$("#ids").val("");if($("#tr_"+a).attr("state")==0){$("#tr_"+a).attr("state",1).show();$(".js_hiddenrow").css({border:"none"});$(".js_hiddentr").css({border:"none"});$(".imgarrow").attr("src","http://static147258.b0.upaiyun.com/static/images/+.png");$("#listimg_"+a).attr("src","http://static147258.b0.upaiyun.com/static/images/-.png");$("#row_"+a).fadeTo(300,1);$("#row_"+a).css({"border-color":"#000 #000 #000 #000","border-style":"solid solid none solid","border-width":"3px 3px 0 3px"});$("#tr_"+a).css({"border-color":"#000 #000 #000 #000","border-style":"none solid solid solid","border-width":"0 3px 3px 3px"})}else{$("#listimg_"+a).attr("src","http://static147258.b0.upaiyun.com/static/images/+.png");$(".js_hiddenrow").fadeTo(300,1).css({border:"none"});$("#tr_"+a).attr("state",0).hide().css({border:"none"})}}function vardump(d,e,b){b=b||1;if(b>5){return""}b++;var a="";if(typeof(d)!="object"&&typeof(d)!="array"){a+="<div>"+e+"\u4e0d\u662f\u5bf9\u8c61\u6216\u8005\u6570\u7ec4["+typeof(d)+"]</div>";return""}a+="<ul>";for(var c in d){a+="<li>";a+=e+"["+c+"] = ";if(typeof(d[c])=="object"||typeof(d[c])=="array"){a+="<b style=\"font-size:13px;cursor:pointer;\" mce_style=\"font-size:13px;cursor:pointer;\" onclick=\"if (this.textContent=='[\u5c55\u5f00]') {this.textContent='[\u6298\u53e0]';this.nextSibling.style.display='block';}else {this.textContent='[\u5c55\u5f00]';this.nextSibling.style.display='none';}\">[\u6298\u53e0]</b>";a+=vardump(d[c],e+"["+c+"]",b)}a+="</li>"}a+="</ul>";return a}function initPage(a){event_ajaxFilter({url:a});event_ajaxForLink();event_edit_grid();event_check();event_rows_multiselect();event_ajaxMainList({url:a});event_pageAjax();top.closeMask()}document.onkeydown=function(a){if(!a){a=window.event}if((a.keyCode||a.which)==13){if(isset_filter){filterLoad()}}};function showDropDiv(a){var b=$(a);b.topNavTimer=null;$(a).bind("mouseenter",function(){var d=$(this),c=d.find("div.sub_nav");c.length>0&&(clearTimeout(d.topNavTimer),d.topNavTimer=setTimeout(function(){(d.hasClass("item_room")||d.hasClass("item_user")||d.hasClass("item_agent")||d.hasClass("item_report")||d.hasClass("item_record"))&&d.addClass("hover"),c.stop().slideDown(200,function(){c.css({height:"auto",overflow:"visible"})})},200))}).bind("mouseleave",function(){var d=$(this),c=d.find("div.sub_nav");c.length&&(clearTimeout(d.topNavTimer),d.topNavTimer=setTimeout(function(){c.stop().slideUp(200,function(){c.css({height:"auto",overflow:"visible"}),(d.hasClass("item_room")||d.hasClass("item_user")||d.hasClass("item_agent")||d.hasClass("item_report")||d.hasClass("item_record"))&&d.removeClass("hover")})},200))}).find("a.er_box").bind("mouseover",function(){var c=$(this).find("span");c.length&&c.show()}).bind("mouseout",function(){var c=$(this).find("span");c.length&&c.hide()})}$(function(){$(document).keydown(function(a){if(a.keyCode==18){is_alt=true}});$(document).keyup(function(a){if(a.keyCode==18){is_alt=false}})});

/*!
 * jQuery loading Plugin v1.0.1
 *
 * Copyright 2017 Nick Han
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(b){b.mask_fullscreen=function(e){if(b(".mask[ele=full_screen]").length>0){return}b("body").addClass("scroll-off");if(!e){e = 'Loading...';}var c='<div class="mask" ele="full_screen"><div>'+e+'</div></div>';b("body").append(c);};b.mask_close=function(c){b(".mask[ele="+c+"]").remove()};b.mask_close_all=function(){b(".mask").remove();b("body").removeClass("scroll-off");}}));

(function(b){var e=b(window);var h=b(document);var a=80;var f={randName:"",isopen:false,dh:null,mh:null,dc:null,dt:null,db:null,dbok:null,dbcancel:null,options:null,_defaults:{title:"\u63d0\u793a",width:0,height:0,areaHeight:0,timeout:0,draggable:true,modal:true,position:"center",showTitle:true,showButton:true,showCancel:false,showOk:true,okBtnName:"\u5173\u95ed",cancelBtnName:"\u5173\u95ed\u7a97\u53e3",contentType:"text",zIndex:80,onclose:null,onopen:null,oncancel:null,onok:null,imgModel:false,timehandle:null,hiddenobj:b("embed, object, select"),content:null,tmpContent:null,tmpWidth:null,tmpHeight:null,selector:null,loadModel:false,pid:false},initOptions:function(l,j){var k=this;k.options=b.extend({},k._defaults,j);k.options.content=l;k.options.zIndex=a+1;a++;k.options.hiddenobj.css({visibility:"hidden"})},initBox:function(){var j=this;var k='<div id="iBox_%id%" class="iBox"><div id="dialogheader_%id%" class="dialog-header"><div class="dialog-title"><span style="padding-left: 5px;" id="dialogtitle_%id%"></span><span id="topclose_%id%" ></span></div></div><table width="100%" border="0" cellspacing="0" cellpadding="0" ><tr><td><div id="dialogcontent_%id%" class="dialog-content"></div><div id="dialogbutton_%id%" class="dialog-button"><input type="button" id="dialogok_%id%" autofocus="" class="dialog-ok" value="\u786e\u5b9a"><input type="button" id="dialogcancel_%id%" class="dialog-cancel" value="\u53d6\u6d88"></div></td></tr></table></div>';b("body").append(k.replace(/%id%/g,j.randName));j.dh=b("#iBox_"+j.randName);j.dh.css({position:"absolute",overflow:"hidden",opacity:0,zIndex:j.options.zIndex,display:"none"});j.centeriBox();e.bind("scroll.iBox",function(){j.centeriBox()});j.dc=j.dh.find("#dialogcontent_"+j.randName);j.dt=j.dh.find("#dialogtitle_"+j.randName);j.db=j.dh.find("#dialogbutton_"+j.randName);j.dbok=j.dh.find("#dialogok_"+j.randName);j.dbcancel=j.dh.find("#dialogcancel_"+j.randName);j.dbok.val(j.options.okBtnName);j.dbcancel.val(j.options.cancelBtnName);j.dt.html(j.options.title);if(!j.options.showButton){j.db.hide()}if(!j.options.showCancel){j.dbcancel.hide()}if(!j.options.showOk){j.dbok.hide()}if(j.options.imgModel){j.db.hide();j.dh.find("#topclose_"+j.randName).css({cursor:"pointer"}).addClass("dialog-tc3").attr("title","\u5173\u95ed")}},initMask:function(){var j=this;j.mh=b('<div id="dialogmask_'+j.randName+'" class="dialog-mask"></div>').appendTo("body").css({opacity:0,width:j.bwidth(),height:j.bheight(),zIndex:j.options.zIndex-1}).click(function(){if(j.options.imgModel){j.close()}})},initEvent:function(){var j=this;j.dbok.unbind("click").click(function(){j.close()});j.dbcancel.unbind("click").click(function(){j.close()});j.dh.find("#topclose_"+j.randName).click(function(){j.close()});if(typeof(j.options.onok)=="function"){j.dbok.unbind("click").click(function(){j.options.onok(j)})}if(typeof(j.options.oncancel)=="function"){j.dbcancel.unbind("click").click(function(){j.options.oncancel(j)})}},initContent:function(){var k=this;if(k.options.contentType=="selector"){k.setContent(b(k.options.content).html());k.showContent();k.onopen()}else{if(k.options.contentType=="ajax"){var n=k.options.content;if(n.indexOf("?")==-1){n+="?_t="+Math.random()}else{n+="&_t="+Math.random()}if(k.options.loadModel){k.options.tmpWidth=k.options.width;k.options.width=0;k.options.tmpHeight=k.options.height;k.options.height=0;k.showLoading()}b.ajax({url:n,success:function(o){if(k.options.loadModel){k.options.tmpContent=o;if(!k.options.tmpWidth||k.options.tmpWidth>1000){k.options.tmpWidth=1000}if(!k.options.tmpHeight||k.options.tmpHeight>600){k.options.tmpHeight=600}k.db.show();k.show()}else{k.setContent(o);k.showContent()}},error:function(){k.showError("\u83b7\u53d6\u8fdc\u7a0b\u5730\u5740\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01")}})}else{if(k.options.imgModel){k.options.loadModel=true;k.showLoading();var l=800;var j=600;var m=new Image();m.onload=function(){if(m.width<l){l=m.width}if(m.height<j){j=m.height}k.options.tmpContent='<img style="opacity:0;" width="'+l+'px" height="'+j+'px" src="'+k.options.content+'" />';k.options.tmpWidth=l+25;k.options.tmpHeight=j;k.show()};m.onerror=function(){k.showError("\u56fe\u7247\u4e0d\u5b58\u5728\uff01")};m.src=k.options.content}else{k.setContent(k.options.content);k.showContent();k.onopen()}}}},show:function(){var m=b(window).height();var k=b(window).width();var j=this;var l=function(){if(j.options.pid){setTimeout(l,50);return false}var n=j.getScroll();var o=n.scrollTop+((m/2)-((j.options.tmpHeight+51)/2));j.dc.animate({height:j.options.tmpHeight},500);j.dh.animate({top:o,left:((k/2)-(j.options.tmpWidth/2)<0)?0:(k/2)-(j.options.tmpWidth/2),width:j.options.tmpWidth},500,function(){j.dc.html(j.options.tmpContent);if(j.options.imgModel){j.dc.find("img").fadeTo(250,1)}})};l()},showContent:function(){var m=b(window).height();var k=b(window).width();var j=this;var l=function(){if(j.options.height){j.dc.css({height:j.options.height})}if(j.options.width){j.dh.css({width:j.options.width})}if(j.options.imgModel){j.dc.find("img").css({opacity:1})}if(j.options.position=="center"){j.centeriBox()}else{var o=h.scrollTop();var n=h.scrollLeft();o=j.options.position;n+=(k-j.dh.width())/2;j.dh.css({top:o,left:n})}j.drag();j.dh.fadeTo(200,1,function(){j.options.pid=false})};j.options.pid=true;if(j.options.modal){j.mh.fadeTo(160,0.4,function(){l()})}else{l()}},find:function(j){return this.dh.find(j)},showLoading:function(){this.setContent('<div class="dialog-loading"></div>');this.db.hide();this.showContent()},setWidth:function(j){this.dh.width(j);this.options.width=j},setTitle:function(j){this.dt.html(j)},getTitle:function(){return this.dt.html()},setContent:function(k){var j=this;j.dc.html(k)},getContent:function(){return this.dc.html()},hideContent:function(){this.dc.hide()},hideButton:function(l){l=b("#"+l+"_"+this.randName);var k=3;var m=b(l).val();b(l).attr("disabled","disabled").val("\u7b49\u5f85"+k);var j=function(){if(k==1){b(l).removeAttr("disabled").val(m)}else{k--;b(l).val("\u7b49\u5f85"+k);setTimeout(j,1000)}};setTimeout(j,1000)},showButton:function(){b("#dialog_"+this.randName).show()},setButtonTitle:function(j){b("#dialog_"+this.randName).val(j)},drag:function(){var j=this;if(j.options.draggable&&j.options.showTitle){j.dh.find("#dialogheader_"+j.randName).mousedown(function(k){var r=this;var n=document;var p=j.dh.position().left;var m=j.dh.position().top;var t=k.clientX;var s=k.clientY;var l=j.dh.width();var u=j.dh.height();var q=j.bwidth();var v=j.bheight();if(r.setCapture){r.setCapture()}b(document).mousemove(function(o){if(window.getSelection){window.getSelection().removeAllRanges()}else{document.selection.empty()}var x=Math.max(p+o.clientX-t,0);var w=Math.max(m+o.clientY-s,0);var x=Math.min(x,q-l);var w=Math.min(w,v-u);j.dh.css({left:x,top:w})}).mouseup(function(){if(r.releaseCapture){r.releaseCapture()}b(document).unbind("mousemove");b(document).unbind("mouseup")})})}},onopen:function(){var j=this;var k=function(){j.options.timehandle=setInterval(function(){j.options.timeout--;j.dt.find("font").html(j.options.timeout);if(j.options.timeout<=0){j.close();clearInterval(j.options.timehandle)}},1000)};if(typeof(j.options.onopen)=="function"){j.options.onopen(j)}if(j.options.timeout>0){j.setTitle('(<font color="red">'+j.options.timeout+"</font>\u79d2\u540e\u5173\u95ed) "+j.options.title);k()}b("#iBox_id").val(j.randName)},close:function(){var k=this;var j=function(){if(k.mh){k.mh.fadeOut("normal",function(){k.mh.remove();if(!document.getElementById("dialogmask")){k.options.hiddenobj.css({visibility:"visible"})}if(typeof(k.options.onclose)=="function"){k.options.onclose(k)}})}};k.dh.fadeOut("fast",function(){k.dh.remove();j()});k.isopen=false;try{if(k.options.timeout>0){clearInterval(k.options.timehandle)}}catch(l){}},close_nesting:function(){b("body link,script[async=true]").remove()},showError:function(k){var j=this;j.dc.html('<div style="height:100px;opacity:0;">'+k+"</div>");j.dc.find("div").fadeTo(300,1);j.dh.find("#topclose_"+j.randName).css({cursor:"pointer"}).addClass("dialog-tc3").attr("title","\u5173\u95ed")},bheight:function(){if("undefined"==typeof(document.body.style.maxHeight)){var k=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);var j=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(k<j){return b(window).height()}else{return k}}else{return b(document).height()}},bwidth:function(){if("undefined"==typeof(document.body.style.maxHeight)){var j=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);var k=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(j<k){return b(window).width()}else{return j}}else{return b(document).width()}},centeriBox:function(){var j=this;var l=j.getScroll();var n=j.dh.height(),m=j.dh.width();var q=b(window).height();var k=b(window).width();var p=(q/2)+l.scrollTop-(n/2);if(p<0){p=0}if(n>q){return}var o=(k/2)+l.scrollLeft-(m/2);j.dh.css({top:p,left:o})},getScroll:function(){if(typeof(window.pageYOffset)!=="undefined"){return{scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset}}else{if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else{if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}}},state:function(){if(this.isopen){return true}else{return false}},open:function(k,j){if(!this.isopen){this.options=null;this.initOptions(k,j);this.initMask();this.initBox();this.initEvent();this.initContent()}}};var i=function(o){var l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var k="";for(var j=0;j<o;j++){var m=Math.ceil(Math.random()*34);k+=l[m]}return k};var d=new Array();var c=function(){return b.extend({},f,{randName:i(8)})};var g=function(){this.close=function(){var j=this.getTopBox();if(false!=j){j.close()}j=null};this.getTopBox=function(){if(d.length>0){return d.pop()}else{return false}};this.open=function(k,j){var l=new c();d.push(l);l.open(k,j)}};b.extend({iBox:new g()})})(jQuery);


(function(c){var b={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:1000,text:"",sticky:false,type:"notice",position:"middle-center",closeText:"",close:null};var a={init:function(d){if(d){c.extend(b,d)}},showToast:function(f){var g={};c.extend(g,b,f);var j,e,d,i,h;j=(!c(".toast-container").length)?c("<div></div>").addClass("toast-container").addClass("toast-position-"+g.position).appendTo("body"):c(".toast-container");e=c("<div></div>").addClass("toast-item-wrapper");d=c("<div></div>").hide().addClass("toast-item toast-type-"+g.type).appendTo(j).html(c("<p>").append(g.text)).animate(g.inEffect,g.inEffectDuration).wrap(e);i=c("<div></div>").addClass("toast-item-close").prependTo(d).html(g.closeText).click(function(){c().toastmessage("removeToast",d,g)});h=c("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+g.type).prependTo(d);if(navigator.userAgent.match(/MSIE 6/i)){j.css({top:document.documentElement.scrollTop})}if(!g.sticky){setTimeout(function(){c().toastmessage("removeToast",d,g)},g.stayTime)}return d},showNoticeToast:function(f,e){var d={text:f,type:"notice"};d=c.extend({},d,e);return c().toastmessage("showToast",d)},showSuccessToast:function(f,e){var d={text:f,type:"success"};d=c.extend({},d,e);return c().toastmessage("showToast",d)},showErrorToast:function(f,e){var d={text:f,type:"error"};d=c.extend({},d,e);return c().toastmessage("showToast",d)},showWarningToast:function(f,e){var d={text:f,type:"warning"};d=c.extend({},d,e);return c().toastmessage("showToast",d)},removeToast:function(e,d){e.animate({opacity:"0"},600,function(){e.parent().animate({height:"0px"},300,function(){e.parent().remove()})});if(d&&d.close!==null){d.close()}}};c.fn.toastmessage=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.toastmessage")}}}})(jQuery);


/*
Validform version 5.3.2
By sean during April 7, 2010 - March 26, 2013
For more information, please visit http://validform.rjboy.cn
Validform is available under the terms of the MIT license.
*/
(function(d,f,b){var g=null,j=null,i=true;var e={tit:"提示信息",w:{"*":"不能为空！","*6-16":"请填写6到16位任意字符！","f":"请填写小数！","n":"请填写数字！","n6-16":"请填写6到16位数字！","s":"不能输入特殊字符！","s6-18":"请填写6到18位字符！","p":"请填写邮政编码！","m":"请填写手机号码！","e":"邮箱地址格式不对！","url":"请填写网址！"},def:"请填写正确信息！",undef:"datatype未定义！",reck:"两次输入的内容不一致！",r:"",c:"正在检测信息…",s:"请{填写|选择}{0|信息}！",v:"所填信息没有经过验证，请稍后…",p:"正在提交数据…"};d.Tipmsg=e;var a=function(l,n,k){var n=d.extend({},a.defaults,n);n.datatype&&d.extend(a.util.dataType,n.datatype);var m=this;m.tipmsg={w:{}};m.forms=l;m.objects=[];if(k===true){return false}l.each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var p=this;p.settings=d.extend({},n);var o=d(p);p.validform_status="normal";o.data("tipmsg",m.tipmsg);o.delegate("[datatype]","blur",function(){var q=arguments[1];a.util.check.call(this,o,q)});o.delegate(":text","keypress",function(q){if(q.keyCode==13&&o.find(":submit").length==0){o.submit()}});a.util.enhance.call(o,p.settings.tiptype,p.settings.usePlugin,p.settings.tipSweep);p.settings.btnSubmit&&o.find(p.settings.btnSubmit).bind("click",function(){o.trigger("submit");return false});o.submit(function(){var q=a.util.submitForm.call(o,p.settings);q===b&&(q=true);return q});o.find("[type='reset']").add(o.find(p.settings.btnReset)).bind("click",function(){a.util.resetForm.call(o)})});if(n.tiptype==1||(n.tiptype==2||n.tiptype==3)&&n.ajaxPost){c()}};a.defaults={tiptype:1,tipSweep:false,showAllError:false,postonce:false,ajaxPost:false};a.util={dataType:{"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,f:/^\d+\.\d+$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,p:/^[0-9]{6}$/,m:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/},toString:Object.prototype.toString,isEmpty:function(k){return k===""||k===d.trim(this.attr("tip"))},getValue:function(m){var l,k=this;if(m.is(":radio")){l=k.find(":radio[name='"+m.attr("name")+"']:checked").val();l=l===b?"":l}else{if(m.is(":checkbox")){l="";k.find(":checkbox[name='"+m.attr("name")+"']:checked").each(function(){l+=d(this).val()+","});l=l===b?"":l}else{l=m.val()}}l=d.trim(l);return a.util.isEmpty.call(m,l)?"":l},enhance:function(l,m,n,k){var o=this;o.find("[datatype]").each(function(){if(l==2){if(d(this).parent().next().find(".Validform_checktip").length==0){d(this).parent().next().append("<span class='Validform_checktip' />");d(this).siblings(".Validform_checktip").remove()}}else{if(l==3||l==4){if(d(this).siblings(".Validform_checktip").length==0){d(this).parent().append("<span class='Validform_checktip' />");d(this).parent().next().find(".Validform_checktip").remove()}}}});o.find("input[recheck]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this);var p=o.find("input[name='"+d(this).attr("recheck")+"']");p.bind("keyup",function(){if(p.val()==q.val()&&p.val()!=""){if(p.attr("tip")){if(p.attr("tip")==p.val()){return false}}q.trigger("blur")}}).bind("blur",function(){if(p.val()!=q.val()&&q.val()!=""){if(q.attr("tip")){if(q.attr("tip")==q.val()){return false}}q.trigger("blur")}})});o.find("[tip]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this).attr("tip");var p=d(this).attr("altercss");d(this).focus(function(){if(d(this).val()==q){d(this).val("");if(p){d(this).removeClass(p)}}}).blur(function(){if(d.trim(d(this).val())===""){d(this).val(q);if(p){d(this).addClass(p)}}})});o.find(":checkbox[datatype],:radio[datatype]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this);var p=q.attr("name");o.find("[name='"+p+"']").filter(":checkbox,:radio").bind("click",function(){setTimeout(function(){q.trigger("blur")},0)})});o.find("select[datatype][multiple]").bind("click",function(){var p=d(this);setTimeout(function(){p.trigger("blur")},0)});a.util.usePlugin.call(o,m,l,n,k)},usePlugin:function(o,l,n,r){var s=this,o=o||{};if(s.find("input[plugin='swfupload']").length&&typeof(swfuploadhandler)!="undefined"){var k={custom_settings:{form:s,showmsg:function(v,t,u){a.util.showmsg.call(s,v,l,{obj:s.find("input[plugin='swfupload']"),type:t,sweep:n})}}};k=d.extend(true,{},o.swfupload,k);s.find("input[plugin='swfupload']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";d(this).val("");swfuploadhandler.init(k,t)})}if(s.find("input[plugin='datepicker']").length&&d.fn.datePicker){o.datepicker=o.datepicker||{};if(o.datepicker.format){Date.format=o.datepicker.format;delete o.datepicker.format}if(o.datepicker.firstDayOfWeek){Date.firstDayOfWeek=o.datepicker.firstDayOfWeek;delete o.datepicker.firstDayOfWeek}s.find("input[plugin='datepicker']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";o.datepicker.callback&&d(this).bind("dateSelected",function(){var u=new Date(d.event._dpCache[this._dpId].getSelected()[0]).asString(Date.format);o.datepicker.callback(u,this)});d(this).datePicker(o.datepicker)})}if(s.find("input[plugin*='passwordStrength']").length&&d.fn.passwordStrength){o.passwordstrength=o.passwordstrength||{};o.passwordstrength.showmsg=function(u,v,t){a.util.showmsg.call(s,v,l,{obj:u,type:t,sweep:n})};s.find("input[plugin='passwordStrength']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";d(this).passwordStrength(o.passwordstrength)})}if(r!="addRule"&&o.jqtransform&&d.fn.jqTransSelect){if(s[0].jqTransSelected=="true"){return}s[0].jqTransSelected="true";var m=function(t){var u=d(".jqTransformSelectWrapper ul:visible");u.each(function(){var v=d(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);if(!(t&&v.oLabel&&v.oLabel.get(0)==t.get(0))){d(this).hide()}})};var p=function(t){if(d(t.target).parents(".jqTransformSelectWrapper").length===0){m(d(t.target))}};var q=function(){d(document).mousedown(p)};if(o.jqtransform.selector){s.find(o.jqtransform.selector).filter('input:submit, input:reset, input[type="button"]').jqTransInputButton();s.find(o.jqtransform.selector).filter("input:text, input:password").jqTransInputText();s.find(o.jqtransform.selector).filter("input:checkbox").jqTransCheckBox();s.find(o.jqtransform.selector).filter("input:radio").jqTransRadio();s.find(o.jqtransform.selector).filter("textarea").jqTransTextarea();if(s.find(o.jqtransform.selector).filter("select").length>0){s.find(o.jqtransform.selector).filter("select").jqTransSelect();q()}}else{s.jqTransform()}s.find(".jqTransformSelectWrapper").find("li a").click(function(){d(this).parents(".jqTransformSelectWrapper").find("select").trigger("blur")})}},getNullmsg:function(o){var n=this;var m=/[\u4E00-\u9FA5\uf900-\ufa2da-zA-Z\s]+/g;var k;var l=o[0].settings.label||".Validform_label";l=n.siblings(l).eq(0).text()||n.siblings().find(l).eq(0).text()||n.parent().siblings(l).eq(0).text()||n.parent().siblings().find(l).eq(0).text();l=l.replace(/\s(?![a-zA-Z])/g,"").match(m);l=l?l.join(""):[""];m=/\{(.+)\|(.+)\}/;k=o.data("tipmsg").s||e.s;if(l!=""){k=k.replace(/\{0\|(.+)\}/,l);if(n.attr("recheck")){k=k.replace(/\{(.+)\}/,"");n.attr("nullmsg",k);return k}}else{k=n.is(":checkbox,:radio,select")?k.replace(/\{0\|(.+)\}/,""):k.replace(/\{0\|(.+)\}/,"$1")}k=n.is(":checkbox,:radio,select")?k.replace(m,"$2"):k.replace(m,"$1");n.attr("nullmsg",k);return k},getErrormsg:function(s,n,u){var o=/^(.+?)((\d+)-(\d+))?$/,m=/^(.+?)(\d+)-(\d+)$/,l=/(.*?)\d+(.+?)\d+(.*)/,q=n.match(o),t,r;if(u=="recheck"){r=s.data("tipmsg").reck||e.reck;return r}var p=d.extend({},e.w,s.data("tipmsg").w);if(q[0] in p){return s.data("tipmsg").w[q[0]]||e.w[q[0]]}for(var k in p){if(k.indexOf(q[1])!=-1&&m.test(k)){r=(s.data("tipmsg").w[k]||e.w[k]).replace(l,"$1"+q[3]+"$2"+q[4]+"$3");s.data("tipmsg").w[q[0]]=r;return r}}return s.data("tipmsg").def||e.def},_regcheck:function(t,n,u,A){var A=A,y=null,v=false,o=/\/.+\//g,k=/^(.+?)(\d+)-(\d+)$/,l=3;if(o.test(t)){var s=t.match(o)[0].slice(1,-1);var r=t.replace(o,"");var q=RegExp(s,r);v=q.test(n)}else{if(a.util.toString.call(a.util.dataType[t])=="[object Function]"){v=a.util.dataType[t](n,u,A,a.util.dataType);if(v===true||v===b){v=true}else{y=v;v=false}}else{if(!(t in a.util.dataType)){var m=t.match(k),z;if(!m){v=false;y=A.data("tipmsg").undef||e.undef}else{for(var B in a.util.dataType){z=B.match(k);if(!z){continue}if(m[1]===z[1]){var w=a.util.dataType[B].toString(),r=w.match(/\/[mgi]*/g)[1].replace("/",""),x=new RegExp("\\{"+z[2]+","+z[3]+"\\}","g");w=w.replace(/\/[mgi]*/g,"/").replace(x,"{"+m[2]+","+m[3]+"}").replace(/^\//,"").replace(/\/$/,"");a.util.dataType[t]=new RegExp(w,r);break}}}}if(a.util.toString.call(a.util.dataType[t])=="[object RegExp]"){v=a.util.dataType[t].test(n)}}}if(v){l=2;y=u.attr("sucmsg")||A.data("tipmsg").r||e.r;if(u.attr("recheck")){var p=A.find("input[name='"+u.attr("recheck")+"']:first");if(n!=p.val()){v=false;l=3;y=u.attr("errormsg")||a.util.getErrormsg.call(u,A,t,"recheck")}}}else{y=y||u.attr("errormsg")||a.util.getErrormsg.call(u,A,t);if(a.util.isEmpty.call(u,n)){y=u.attr("nullmsg")||a.util.getNullmsg.call(u,A)}}return{passed:v,type:l,info:y}},regcheck:function(n,s,m){var t=this,k=null,l=false,r=3;if(m.attr("ignore")==="ignore"&&a.util.isEmpty.call(m,s)){if(m.data("cked")){k=""}return{passed:true,type:4,info:k}}m.data("cked","cked");var u=a.util.parseDatatype(n);var q;for(var p=0;p<u.length;p++){for(var o=0;o<u[p].length;o++){q=a.util._regcheck(u[p][o],s,m,t);if(!q.passed){break}}if(q.passed){break}}return q},parseDatatype:function(r){var q=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,o=r.match(q),p=r.replace(q,"").replace(/\s*/g,"").split(""),l=[],k=0;l[0]=[];l[0].push(o[0]);for(var s=0;s<p.length;s++){if(p[s]=="|"){k++;l[k]=[]}l[k].push(o[s+1])}return l},showmsg:function(n,l,m,k){if(n==b){return}if(k=="bycheck"&&m.sweep&&(m.obj&&!m.obj.is(".Validform_error")||typeof l=="function")){return}d.extend(m,{curform:this});if(typeof l=="function"){l(n,m,a.util.cssctl);return}if(l==1||k=="byajax"&&l!=4){j.find(".Validform_info").html(n)}if(l==1&&k!="bycheck"&&m.type!=2||k=="byajax"&&l!=4){i=false;j.find(".iframe").css("height",j.outerHeight());j.show();h(j,100)}if(l==2&&m.obj){m.obj.parent().next().find(".Validform_checktip").html(n);a.util.cssctl(m.obj.parent().next().find(".Validform_checktip"),m.type)}if((l==3||l==4)&&m.obj){m.obj.siblings(".Validform_checktip").html(n);a.util.cssctl(m.obj.siblings(".Validform_checktip"),m.type)}},cssctl:function(l,k){switch(k){case 1:l.removeClass("Validform_right Validform_wrong").addClass("Validform_checktip Validform_loading");break;case 2:l.removeClass("Validform_wrong Validform_loading").addClass("Validform_checktip Validform_right");break;case 4:l.removeClass("Validform_right Validform_wrong Validform_loading").addClass("Validform_checktip");break;default:l.removeClass("Validform_right Validform_loading").addClass("Validform_checktip Validform_wrong")}},check:function(v,t,n){var o=v[0].settings;var t=t||"";var k=a.util.getValue.call(v,d(this));if(o.ignoreHidden&&d(this).is(":hidden")||d(this).data("dataIgnore")==="dataIgnore"){return true}if(o.dragonfly&&!d(this).data("cked")&&a.util.isEmpty.call(d(this),k)&&d(this).attr("ignore")!="ignore"){return false}var s=a.util.regcheck.call(v,d(this).attr("datatype"),k,d(this));if(k==this.validform_lastval&&!d(this).attr("recheck")&&t==""){return s.passed?true:false}this.validform_lastval=k;var r;g=r=d(this);if(!s.passed){a.util.abort.call(r[0]);if(!n){a.util.showmsg.call(v,s.info,o.tiptype,{obj:d(this),type:s.type,sweep:o.tipSweep},"bycheck");!o.tipSweep&&r.addClass("Validform_error")}return false}var q=d(this).attr("ajaxurl");if(q&&!a.util.isEmpty.call(d(this),k)&&!n){var m=d(this);if(t=="postform"){m[0].validform_subpost="postform"}else{m[0].validform_subpost=""}if(m[0].validform_valid==="posting"&&k==m[0].validform_ckvalue){return"ajax"}m[0].validform_valid="posting";m[0].validform_ckvalue=k;a.util.showmsg.call(v,v.data("tipmsg").c||e.c,o.tiptype,{obj:m,type:1,sweep:o.tipSweep},"bycheck");a.util.abort.call(r[0]);var u=d.extend(true,{},o.ajaxurl||{});var p={type:"POST",cache:false,url:q,data:"param="+encodeURIComponent(k)+"&name="+encodeURIComponent(d(this).attr("name")),success:function(x){if(d.trim(x.status)==="y"){m[0].validform_valid="true";x.info&&m.attr("sucmsg",x.info);a.util.showmsg.call(v,m.attr("sucmsg")||v.data("tipmsg").r||e.r,o.tiptype,{obj:m,type:2,sweep:o.tipSweep},"bycheck");r.removeClass("Validform_error");g=null;if(m[0].validform_subpost=="postform"){v.trigger("submit")}}else{m[0].validform_valid=x.info;a.util.showmsg.call(v,x.info,o.tiptype,{obj:m,type:3,sweep:o.tipSweep});r.addClass("Validform_error")}r[0].validform_ajax=null},error:function(x){if(x.status=="200"){if(x.responseText=="y"){u.success({status:"y"})}else{u.success({status:"n",info:x.responseText})}return false}if(x.statusText!=="abort"){var y="status: "+x.status+"; statusText: "+x.statusText;a.util.showmsg.call(v,y,o.tiptype,{obj:m,type:3,sweep:o.tipSweep});r.addClass("Validform_error")}m[0].validform_valid=x.statusText;r[0].validform_ajax=null;return true}};if(u.success){var w=u.success;u.success=function(x){p.success(x);w(x,m)}}if(u.error){var l=u.error;u.error=function(x){p.error(x)&&l(x,m)}}u=d.extend({},p,u,{dataType:"json"});r[0].validform_ajax=d.ajax(u);return"ajax"}else{if(q&&a.util.isEmpty.call(d(this),k)){a.util.abort.call(r[0]);r[0].validform_valid="true"}}if(!n){a.util.showmsg.call(v,s.info,o.tiptype,{obj:d(this),type:s.type,sweep:o.tipSweep},"bycheck");r.removeClass("Validform_error")}g=null;return true},submitForm:function(o,l,k,r,t){var w=this;if(w[0].validform_status==="posting"){return false}if(o.postonce&&w[0].validform_status==="posted"){return false}var v=o.beforeCheck&&o.beforeCheck(w);if(v===false){return false}var s=true,n;w.find("[datatype]").each(function(){if(l){return false}if(o.ignoreHidden&&d(this).is(":hidden")||d(this).data("dataIgnore")==="dataIgnore"){return true}var z=a.util.getValue.call(w,d(this)),A;g=A=d(this);n=a.util.regcheck.call(w,d(this).attr("datatype"),z,d(this));if(!n.passed){a.util.showmsg.call(w,n.info,o.tiptype,{obj:d(this),type:n.type,sweep:o.tipSweep});A.addClass("Validform_error");if(!o.showAllError){A.focus();s=false;return false}s&&(s=false);return true}if(d(this).attr("ajaxurl")&&!a.util.isEmpty.call(d(this),z)){if(this.validform_valid!=="true"){var y=d(this);a.util.showmsg.call(w,w.data("tipmsg").v||e.v,o.tiptype,{obj:y,type:3,sweep:o.tipSweep});A.addClass("Validform_error");y.trigger("blur",["postform"]);if(!o.showAllError){s=false;return false}s&&(s=false);return true}}else{if(d(this).attr("ajaxurl")&&a.util.isEmpty.call(d(this),z)){a.util.abort.call(this);this.validform_valid="true"}}a.util.showmsg.call(w,n.info,o.tiptype,{obj:d(this),type:n.type,sweep:o.tipSweep});A.removeClass("Validform_error");g=null});if(o.showAllError){w.find(".Validform_error:first").focus()}if(s){var q=o.beforeSubmit&&o.beforeSubmit(w);if(q===false){return false}w[0].validform_status="posting";if(o.ajaxPost||r==="ajaxPost"){var u=d.extend(true,{},o.ajaxpost||{});u.url=k||u.url||o.url||w.attr("action");a.util.showmsg.call(w,w.data("tipmsg").p||e.p,o.tiptype,{obj:w,type:1,sweep:o.tipSweep},"byajax");if(t){u.async=false}else{if(t===false){u.async=true}}if(u.success){var x=u.success;u.success=function(y){o.callback&&o.callback(y);w[0].validform_ajax=null;if(d.trim(y.status)==="y"){w[0].validform_status="posted"}else{w[0].validform_status="normal"}x(y,w)}}if(u.error){var m=u.error;u.error=function(y){o.callback&&o.callback(y);w[0].validform_status="normal";w[0].validform_ajax=null;m(y,w)}}var p={type:"POST",async:true,data:w.serializeArray(),success:function(y){if(d.trim(y.status)==="y"){w[0].validform_status="posted";a.util.showmsg.call(w,y.info,o.tiptype,{obj:w,type:2,sweep:o.tipSweep},"byajax")}else{w[0].validform_status="normal";a.util.showmsg.call(w,y.info,o.tiptype,{obj:w,type:3,sweep:o.tipSweep},"byajax")}o.callback&&o.callback(y);w[0].validform_ajax=null},error:function(y){var z="status: "+y.status+"; statusText: "+y.statusText;a.util.showmsg.call(w,z,o.tiptype,{obj:w,type:3,sweep:o.tipSweep},"byajax");o.callback&&o.callback(y);w[0].validform_status="normal";w[0].validform_ajax=null}};u=d.extend({},p,u,{dataType:"json"});w[0].validform_ajax=d.ajax(u)}else{if(!o.postonce){w[0].validform_status="normal"}var k=k||o.url;if(k){w.attr("action",k)}return o.callback&&o.callback(w)}}return false},resetForm:function(){var k=this;k.each(function(){this.reset&&this.reset();this.validform_status="normal"});k.find(".Validform_right").text("");k.find(".passwordStrength").children().removeClass("bgStrength");k.find(".Validform_checktip").removeClass("Validform_wrong Validform_right Validform_loading");k.find(".Validform_error").removeClass("Validform_error");k.find("[datatype]").removeData("cked").removeData("dataIgnore").each(function(){this.validform_lastval=null});k.eq(0).find("input:first").focus()},abort:function(){if(this.validform_ajax){this.validform_ajax.abort()}}};d.Datatype=a.util.dataType;a.prototype={dataType:a.util.dataType,eq:function(l){var k=this;if(l>=k.forms.length){return null}if(!(l in k.objects)){k.objects[l]=new a(d(k.forms[l]).get(),{},true)}return k.objects[l]},resetStatus:function(){var k=this;d(k.forms).each(function(){this.validform_status="normal"});return this},setStatus:function(k){var l=this;d(l.forms).each(function(){this.validform_status=k||"posting"});return this},getStatus:function(){var l=this;var k=d(l.forms)[0].validform_status;return k},ignore:function(k){var l=this;var k=k||"[datatype]";d(l.forms).find(k).each(function(){d(this).data("dataIgnore","dataIgnore").removeClass("Validform_error")});return this},unignore:function(k){var l=this;var k=k||"[datatype]";d(l.forms).find(k).each(function(){d(this).removeData("dataIgnore")});return this},addRule:function(n){var m=this;var n=n||[];for(var l=0;l<n.length;l++){var p=d(m.forms).find(n[l].ele);for(var k in n[l]){k!=="ele"&&p.attr(k,n[l][k])}}d(m.forms).each(function(){var o=d(this);a.util.enhance.call(o,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep,"addRule")});return this},ajaxPost:function(k,m,l){var n=this;d(n.forms).each(function(){if(this.settings.tiptype==1||this.settings.tiptype==2||this.settings.tiptype==3){c()}a.util.submitForm.call(d(n.forms[0]),this.settings,k,l,"ajaxPost",m)});return this},submitForm:function(k,l){var m=this;d(m.forms).each(function(){var n=a.util.submitForm.call(d(this),this.settings,k,l);n===b&&(n=true);if(n===true){this.submit()}});return this},resetForm:function(){var k=this;a.util.resetForm.call(d(k.forms));return this},abort:function(){var k=this;d(k.forms).each(function(){a.util.abort.call(this)});return this},check:function(m,k){var k=k||"[datatype]",o=this,n=d(o.forms),l=true;n.find(k).each(function(){a.util.check.call(this,n,"",m)||(l=false)});return l},config:function(k){var l=this;k=k||{};d(l.forms).each(function(){var m=d(this);this.settings=d.extend(true,this.settings,k);a.util.enhance.call(m,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep)});return this}};d.fn.Validform=function(k){return new a(this,k)};function h(n,m){var l=(d(window).width()-n.outerWidth())/2,k=(d(window).height()-n.outerHeight())/2,k=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(k>0?k:0);n.css({left:l}).animate({top:k},{duration:m,queue:false})}function c(){if(d("#Validform_msg").length!==0){return false}j=d('<div id="Validform_msg"><div class="Validform_title">'+e.tit+'<a class="Validform_close" href="javascript:void(0);">&chi;</a></div><div class="Validform_info"></div><div class="iframe"><iframe frameborder="0" scrolling="no" height="100%" width="100%"></iframe></div></div>').appendTo("body");j.find("a.Validform_close").click(function(){j.hide();i=true;if(g){g.focus().addClass("Validform_error")}return false}).focus(function(){this.blur()});d(window).bind("scroll resize",function(){!i&&h(j,400)})}d.Showmsg=function(k){c();a.util.showmsg.call(f,k,1,{})};d.Hidemsg=function(){j.hide();i=true}})(jQuery,window);


/**/
function numberAdd(h,g){var f,d,b,j;try{f=h.toString().split(".")[1].length}catch(i){f=0}try{d=g.toString().split(".")[1].length}catch(i){d=0}j=Math.abs(f-d);b=Math.pow(10,Math.max(f,d));if(j>0){var a=Math.pow(10,j);if(f>d){h=Number(h.toString().replace(".",""));g=Number(g.toString().replace(".",""))*a}else{h=Number(h.toString().replace(".",""))*a;g=Number(g.toString().replace(".",""))}}else{h=Number(h.toString().replace(".",""));g=Number(g.toString().replace(".",""))}return(h+g)/b}function numberSub(f,d){var c,b,a,h;try{c=f.toString().split(".")[1].length}catch(g){c=0}try{b=d.toString().split(".")[1].length}catch(g){b=0}a=Math.pow(10,Math.max(c,b));h=(c>=b)?c:b;return((f*a-d*a)/a).toFixed(h)}function numberMul(d,b){var a=0,f=d.toString(),c=b.toString();try{a+=f.split(".")[1].length}catch(g){}try{a+=c.split(".")[1].length}catch(g){}return Number(f.replace(".",""))*Number(c.replace(".",""))/Math.pow(10,a)}function numberDiv(arg1,arg2){var t1=0,t2=0,r1,r2;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math){r1=Number(arg1.toString().replace(".",""));r2=Number(arg2.toString().replace(".",""));return(r1/r2)*pow(10,t2-t1)}};

/*qrencode*/
var QRCode;!function(){function a(a){this.mode=c.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=[],d=0,e=this.data.length;e>d;d++){var f=this.data.charCodeAt(d);f>65536?(b[0]=240|(1835008&f)>>>18,b[1]=128|(258048&f)>>>12,b[2]=128|(4032&f)>>>6,b[3]=128|63&f):f>2048?(b[0]=224|(61440&f)>>>12,b[1]=128|(4032&f)>>>6,b[2]=128|63&f):f>128?(b[0]=192|(1984&f)>>>6,b[1]=128|63&f):b[0]=f,this.parsedData=this.parsedData.concat(b)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function j(a,b){this.totalCount=a,this.dataCount=b}function k(){this.buffer=[],this.length=0}function m(){return"undefined"!=typeof CanvasRenderingContext2D}function n(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}function r(a,b){for(var c=1,e=s(a),f=0,g=l.length;g>=f;f++){var h=0;switch(b){case d.L:h=l[f][0];break;case d.M:h=l[f][1];break;case d.Q:h=l[f][2];break;case d.H:h=l[f][3]}if(h>=e)break;c++}if(c>l.length)throw new Error("Too long data");return c}function s(a){var b=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a?3:0)}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},b.prototype={addData:function(b){var c=new a(b);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=f.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var a=f.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var g=-2;2>=g;g++)for(var h=-2;2>=h;h++)this.modules[d+g][e+h]=-2==g||2==g||-2==h||2==h||0==g&&0==h?!0:!1}},setupTypeNumber:function(a){for(var b=f.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=f.getBCHTypeInfo(c),e=0;15>e;e++){var g=!a&&1==(1&d>>e);6>e?this.modules[e][8]=g:8>e?this.modules[e+1][8]=g:this.modules[this.moduleCount-15+e][8]=g}for(var e=0;15>e;e++){var g=!a&&1==(1&d>>e);8>e?this.modules[8][this.moduleCount-e-1]=g:9>e?this.modules[8][15-e-1+1]=g:this.modules[8][15-e-1]=g}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,g=0,h=this.moduleCount-1;h>0;h-=2)for(6==h&&h--;;){for(var i=0;2>i;i++)if(null==this.modules[d][h-i]){var j=!1;g<a.length&&(j=1==(1&a[g]>>>e));var k=f.getMask(b,d,h-i);k&&(j=!j),this.modules[d][h-i]=j,e--,-1==e&&(g++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,d){for(var e=j.getRSBlocks(a,c),g=new k,h=0;h<d.length;h++){var i=d[h];g.put(i.mode,4),g.put(i.getLength(),f.getLengthInBits(i.mode,a)),i.write(g)}for(var l=0,h=0;h<e.length;h++)l+=e[h].dataCount;if(g.getLengthInBits()>8*l)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+8*l+")");for(g.getLengthInBits()+4<=8*l&&g.put(0,4);0!=g.getLengthInBits()%8;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*l)break;if(g.put(b.PAD0,8),g.getLengthInBits()>=8*l)break;g.put(b.PAD1,8)}return b.createBytes(g,e)},b.createBytes=function(a,b){for(var c=0,d=0,e=0,g=new Array(b.length),h=new Array(b.length),j=0;j<b.length;j++){var k=b[j].dataCount,l=b[j].totalCount-k;d=Math.max(d,k),e=Math.max(e,l),g[j]=new Array(k);for(var m=0;m<g[j].length;m++)g[j][m]=255&a.buffer[m+c];c+=k;var n=f.getErrorCorrectPolynomial(l),o=new i(g[j],n.getLength()-1),p=o.mod(n);h[j]=new Array(n.getLength()-1);for(var m=0;m<h[j].length;m++){var q=m+p.getLength()-h[j].length;h[j][m]=q>=0?p.get(q):0}}for(var r=0,m=0;m<b.length;m++)r+=b[m].totalCount;for(var s=new Array(r),t=0,m=0;d>m;m++)for(var j=0;j<b.length;j++)m<g[j].length&&(s[t++]=g[j][m]);for(var m=0;e>m;m++)for(var j=0;j<b.length;j++)m<h[j].length&&(s[t++]=h[j][m]);return s};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},e={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;f.getBCHDigit(b)-f.getBCHDigit(f.G15)>=0;)b^=f.G15<<f.getBCHDigit(b)-f.getBCHDigit(f.G15);return(a<<10|b)^f.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;f.getBCHDigit(b)-f.getBCHDigit(f.G18)>=0;)b^=f.G18<<f.getBCHDigit(b)-f.getBCHDigit(f.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return f.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case e.PATTERN000:return 0==(b+c)%2;case e.PATTERN001:return 0==b%2;case e.PATTERN010:return 0==c%3;case e.PATTERN011:return 0==(b+c)%3;case e.PATTERN100:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case e.PATTERN101:return 0==b*c%2+b*c%3;case e.PATTERN110:return 0==(b*c%2+b*c%3)%2;case e.PATTERN111:return 0==(b*c%3+(b+c)%2)%2;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new i([1],0),c=0;a>c;c++)b=b.multiply(new i([1,g.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},g={glog:function(a){if(1>a)throw new Error("glog("+a+")");return g.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return g.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;8>h;h++)g.EXP_TABLE[h]=1<<h;for(var h=8;256>h;h++)g.EXP_TABLE[h]=g.EXP_TABLE[h-4]^g.EXP_TABLE[h-5]^g.EXP_TABLE[h-6]^g.EXP_TABLE[h-8];for(var h=0;255>h;h++)g.LOG_TABLE[g.EXP_TABLE[h]]=h;i.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=g.gexp(g.glog(this.get(c))+g.glog(a.get(d)));return new i(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=g.glog(this.get(0))-g.glog(a.get(0)),c=new Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(var d=0;d<a.getLength();d++)c[d]^=g.gexp(g.glog(a.get(d))+b);return new i(c,0).mod(a)}},j.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],j.getRSBlocks=function(a,b){var c=j.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,e=[],f=0;d>f;f++)for(var g=c[3*f+0],h=c[3*f+1],i=c[3*f+2],k=0;g>k;k++)e.push(new j(h,i));return e},j.getRsBlockTable=function(a,b){switch(b){case d.L:return j.RS_BLOCK_TABLE[4*(a-1)+0];case d.M:return j.RS_BLOCK_TABLE[4*(a-1)+1];case d.Q:return j.RS_BLOCK_TABLE[4*(a-1)+2];case d.H:return j.RS_BLOCK_TABLE[4*(a-1)+3];default:return void 0}},k.prototype={get:function(a){var b=Math.floor(a/8);return 1==(1&this.buffer[b]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],o=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function g(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}var b=this._htOption,c=this._el,d=a.getModuleCount();Math.floor(b.width/d),Math.floor(b.height/d),this.clear();var h=g("svg",{viewBox:"0 0 "+String(d)+" "+String(d),width:"100%",height:"100%",fill:b.colorLight});h.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),c.appendChild(h),h.appendChild(g("rect",{fill:b.colorDark,width:"1",height:"1",id:"template"}));for(var i=0;d>i;i++)for(var j=0;d>j;j++)if(a.isDark(i,j)){var k=g("use",{x:String(i),y:String(j)});k.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),h.appendChild(k)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),p="svg"===document.documentElement.tagName.toLowerCase(),q=p?o:m()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function d(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement("img"),e=function(){c._bSupportDataURI=!1,c._fFail&&_fFail.call(c)},f=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,d.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var b=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,d,e,f,g,h,i,j){if("nodeName"in a&&/img/i.test(a.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*b;else"undefined"==typeof j&&(arguments[1]*=b,arguments[2]*=b,arguments[3]*=b,arguments[4]*=b);c.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=n(),this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display="none",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&d.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=['<table style="border:0;border-collapse:collapse;">'],h=0;d>h;h++){g.push("<tr>");for(var i=0;d>i;i++)g.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+e+"px;height:"+f+"px;background-color:"+(a.isDark(h,i)?b.colorDark:b.colorLight)+';"></td>');g.push("</tr>")}g.push("</table>"),c.innerHTML=g.join("");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+"px "+k+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];"string"==typeof a&&(a=document.getElementById(a)),this._android=n(),this._el=a,this._oQRCode=null,this._oDrawing=new q(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(a){this._oQRCode=new b(r(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=d}();

/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(n){var o={};function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=n,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),a=o(n(1)),c=o(n(3)),u=o(n(4));function o(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return n.resolveOptions(e),n.listenClick(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,c.default),i(o,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===r(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,u.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return s("action",t)}},{key:"defaultTarget",value:function(t){var e=s("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return s("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),o}();function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}t.exports=l},function(t,e,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),a=n(2),c=(o=a)&&o.__esModule?o:{default:o};var u=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,c.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,c.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();t.exports=u},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function r(){o.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var d=n(5),h=n(6);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!d.string(e))throw new TypeError("Second argument must be a String");if(!d.fn(n))throw new TypeError("Third argument must be a Function");if(d.node(t))return s=e,f=n,(l=t).addEventListener(s,f),{destroy:function(){l.removeEventListener(s,f)}};if(d.nodeList(t))return a=t,c=e,u=n,Array.prototype.forEach.call(a,function(t){t.addEventListener(c,u)}),{destroy:function(){Array.prototype.forEach.call(a,function(t){t.removeEventListener(c,u)})}};if(d.string(t))return o=t,r=e,i=n,h(document.body,o,r,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,r,i,a,c,u,l,s,f}},function(t,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var a=n(7);function i(t,e,n,o,r){var i=function(e,n,t,o){return function(t){t.delegateTarget=a(t.target,n),t.delegateTarget&&o.call(e,t)}}.apply(this,arguments);return t.addEventListener(n,i,r),{destroy:function(){t.removeEventListener(n,i,r)}}}t.exports=function(t,e,n,o,r){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,o,r)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])});

/*
 * top right left bottom 
 */
$.fn.extend({
  "suspensionTips": function (options) {
    var tips = {
        config : {
            verticalMargin : 13, // 垂直边距
            horizontalMargin: 13, // 水平边距
            position: 'top', // 浮动位置, 默认上方,支持top、bottom、left、right
            sharpX : 23, // Tips突出部分中心店距离左右两边的长度
            sharpY : 20, // Tips突出部分中心店距离上边的高度
            content: "",
            positionClass : 'common-tips'

        },
        init : function (options) {
            this.config.positionClass = 'common-tips'
            this.config = $.extend({}, this.config, options);
            var div = $("<div></div>");
            div.addClass("common-tips-container common-tips-hide");
            div.text(this.config.content);
            div.attr("id","common-tips");
            $(document.body).append(div);
            div.css({
                //"width" : this.config.width + "px",
                // "animation":"common-tips-show " + this.config.speed + "s ease-in",
                // "-webkit-animation":"common-tips-show " + this.config.speed + "s ease-in",
            });
            this.calcTop(div);
            this.calcLeft(div);

            div.addClass("common-tips-animation");
            div.addClass(this.config.positionClass);
            div.removeClass("common-tips-hide");
        },
        calcTop : function(tipsDiv){
            //计算top位置
            var top = this.config.elementPosition.top - tipsDiv.outerHeight() - this.config.verticalMargin;
            if(this.config.mousePosition.top < (tipsDiv.outerHeight() + this.config.verticalMargin) || this.config.position == "bottom"){
                top = top + tipsDiv.outerHeight() + this.config.verticalMargin + this.config.elementHeight + this.config.verticalMargin;
                // tipsDiv.addClass("common-tips-bottom-left");
                this.config.positionClass += '-bottom';
            }else{
                this.config.positionClass += '-top';
            }

            if(this.config.position == "left" || this.config.position == "right"){
                top = this.config.elementPosition.top + this.config.elementHeightHalf - this.config.sharpY;
            }

            tipsDiv.css("top", top);
        },
        calcLeft : function (tipsDiv) {
            //计算left位置
            var left = 0;
            var windowWidth = window.innerWidth;//document.body.offsetWidth;
            var marginRight = windowWidth - this.config.mousePosition.left;
            if(this.config.position == "top" || this.config.position == "bottom"){
                if(marginRight < (tipsDiv.outerWidth() - this.config.sharpX)){
                    //如果鼠标局里右边的距离小于tips框的宽度，则表示放不下了，那么就应该往左边偏
                    left = this.config.elementPosition.left - tipsDiv.outerWidth() + this.config.sharpX + this.config.elementWidthHalf;
                    this.config.positionClass += '-left';
                }else{
                    left = this.config.elementPosition.left + this.config.elementWidthHalf - this.config.sharpX;
                    this.config.positionClass += '-right';
                }
            }else if(this.config.position == "left"){
                if(this.config.mousePosition.left < tipsDiv.outerWidth()){
                    //鼠标的坐标位置小于div的宽度就得出现在右边
                    this.config.positionClass = "common-tips-right-right";
                    left = this.config.elementPosition.left + this.config.elementWidth + this.config.horizontalMargin;
                }else{
                    //否则在左边
                    this.config.positionClass = "common-tips-left-left";
                    left = this.config.elementPosition.left - tipsDiv.outerWidth() - this.config.horizontalMargin;

                }
            }else{
                this.config.positionClass = "common-tips-right-right";
                left = this.config.elementPosition.left + this.config.elementWidth + this.config.horizontalMargin;
            }

            tipsDiv.css("left", left);
        }
    }
    $(this).on("mouseover", function(e){
        var mousePosition = {
            top : e.clientY - e.offsetY,
            left : e.clientX - e.offsetX + $(this).outerWidth()/2
        };
        options.element=$(this);
        options.elementPosition= $(this).offset();
        options.elementWidth=$(this).outerWidth();
        options.elementWidthHalf=$(this).outerWidth()/2;
        options.elementHeight = $(this).outerHeight();
        options.elementHeightHalf = $(this).outerHeight()/2;
        options.mousePosition = mousePosition;
        // options.positionClass = 'common-tips';
        tips.init(options);

    });
    $(this).on("mouseout", function(){
        $("#common-tips").addClass("common-tips-container-hide");
        document.getElementById("common-tips").addEventListener('webkitAnimationEnd', function () {
           $("#common-tips").remove();
        }, false);
    });
  }
});


